(this.webpackJsonpdict=this.webpackJsonpdict||[]).push([[0],{114:function(e,t,a){e.exports={app:"app_app__M9MMq",app_content:"app_app_content__1XtRV"}},181:function(e,t,a){e.exports={navbar:"navbar_navbar__q1H5d"}},183:function(e,t,a){e.exports={header:"header_header__v9FKw"}},184:function(e,t,a){e.exports={search:"search_search__1JxJG"}},185:function(e,t,a){e.exports={search_word:"search-word_search_word__MqmX-"}},186:function(e,t,a){e.exports={time_graph:"time-graph_time_graph__2jov0"}},195:function(e,t,a){e.exports={type_graph:"type-graph_type_graph__26N1x"}},196:function(e,t,a){e.exports={test_example:"text-example_test_example__h-77M"}},197:function(e,t,a){e.exports={text_info:"text-info_text_info__1XkwS"}},198:function(e,t,a){e.exports={add_book:"add-book_add_book__1o2_i"}},201:function(e,t,a){e.exports={main:"main_main__2W-l3"}},235:function(e,t,a){e.exports=a(434)},434:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(14),c=a.n(l),o=a(114),i=a.n(o),s=a(41),u=a(45),m=a(181),h=a.n(m),p=function(){return r.a.createElement("div",{className:h.a.navbar},r.a.createElement(u.b,{to:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),"|",r.a.createElement(u.b,{to:"/search"},"\u041f\u043e\u0438\u0441\u043a "),"|",r.a.createElement(u.b,{to:"/add"}," \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"))},d=a(183),f=a.n(d),E=function(){return r.a.createElement("div",{className:f.a.header},r.a.createElement("h1",null,"\u0414\u043e\u0440\u0435\u0444\u043e\u0440\u043c\u0435\u0440\u043d\u044b\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u044c"))},v=a(69),_=a(91),y=a(26),g=a(27),b=a(29),j=a(28),O=a(184),k=a.n(O),S=a(185),x=a.n(S),D=a(64),w=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={search:"",flagSearch:!1},e.changeSearch=function(t){e.setState({search:t.target.value})},e.searchWord=function(t){t.preventDefault(),D.post("search_by_word",{search:e.state.search}).then((function(t){console.log("searchWord",t),0!==t.data.length&&0!==t.data[0].count?e.setState({flagSearch:!1}):e.setState({flagSearch:!0}),e.props.updateData(t.data)}))},e}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:x.a.search_word},r.a.createElement("form",{onSubmit:this.searchWord},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"\u043f\u043e\u0438\u0441\u043a",value:this.state.search,onChange:this.changeSearch}),r.a.createElement("input",{type:"submit",value:"\u043d\u0430\u0439\u0442\u0438"}))),r.a.createElement("div",null,this.state.flagSearch?r.a.createElement("h2",null,"\u0421\u043b\u043e\u0432\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"):r.a.createElement(r.a.Fragment,null)))}}]),a}(r.a.Component),N=a(186),C=a.n(N),F=a(20),P=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:C.a.time_graph},r.a.createElement("h2",null,"\u0413\u0440\u0430\u0444\u0438\u043a \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043b\u043e\u0432 \u043e\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438"),r.a.createElement("div",null,r.a.createElement(F.e,{width:600,height:300,data:this.props.timeData,margin:{top:5,right:20,bottom:5,left:0}},r.a.createElement(F.d,{name:"\u043a\u043e\u043b-\u0432\u043e \u0441\u043b\u043e\u0432",type:"monotone",dataKey:"count",stroke:"#8884d8"}),r.a.createElement(F.c,{stroke:"#ccc",strokeDasharray:"5 5"}),r.a.createElement(F.g,{dataKey:"year",label:{value:"\u0412\u0440\u0435\u043c\u044f",position:"insideBottomRight",offset:-3}}),r.a.createElement(F.h,{label:{value:"\u043a\u043e\u043b-\u0432\u043e \u0441\u043b\u043e\u0432",angle:-90,position:"insideLeft"}}),r.a.createElement(F.f,null))))}}]),a}(r.a.Component),T=a(195),L=a.n(T),B=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:L.a.type_graph},r.a.createElement("div",null,r.a.createElement("h2",null,"\u0413\u0440\u0430\u0444\u0438\u043a \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043b\u043e\u0432 \u043e\u0442 \u0442\u0438\u043f\u0430 \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u044b")),r.a.createElement("div",null,r.a.createElement(F.b,{width:600,height:300,data:this.props.typeData,margin:{top:5,right:0,left:0,bottom:5}},r.a.createElement(F.c,{strokeDasharray:"3 3"}),r.a.createElement(F.g,{dataKey:"type"}),r.a.createElement(F.h,{label:{value:"\u043a\u043e\u043b-\u0432\u043e \u0441\u043b\u043e\u0432",angle:-90,position:"insideLeft"}}),r.a.createElement(F.f,null),r.a.createElement(F.a,{name:"\u043a\u043e\u043b-\u0432\u043e \u0441\u043b\u043e\u0432",dataKey:"count",stackId:"a",fill:"#8884d8"}))))}}]),a}(n.PureComponent),I=a(196),K=a.n(I),M=function(e){var t=e.data.map((function(e){return r.a.createElement("li",{key:e._id},e.sentence)}));return r.a.createElement("div",{className:K.a.text_example},r.a.createElement("div",null,r.a.createElement("ul",null,t)))},z=a(197),J=a.n(z),W=function(e){return 0!==e.data.length&&console.log("text-info",e.data[0].name),r.a.createElement("div",{className:J.a.text_info},r.a.createElement("h1",null,0!==e.data.length?e.data[0].name:""))},q=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:[],timeData:[],typeData:[],flagSearch:!0},e.updateData=function(t){e.setState({data:Object(_.a)(t)}),e.analizeTime(),e.analizeType()},e.analizeTime=function(){var t=e.state.data.reduce((function(e,t){return e[t.year]||(e[t.year]=Object(v.a)(Object(v.a)({},t),{},{count:t.count})),e}),{}),a=Object.keys(t).map((function(e){var a=t[e];return{year:a.year,count:a.count}}));console.log("result year is",a),e.setState({timeData:Object(_.a)(a)})},e.analizeType=function(){var t=e.state.data.reduce((function(e,t){return e[t.type]?(e[t.type].count+=t.count,e):(e[t.type]=Object(v.a)(Object(v.a)({},t),{},{count:t.count}),e)}),{}),a=Object.keys(t).map((function(e){var a=t[e];return{type:a.type,count:a.count}}));console.log("result type is",a),e.setState({typeData:Object(_.a)(a)})},e}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:k.a.search},r.a.createElement(w,{flagSearch:this.state.flagSearch,data:this.state.data,updateData:this.updateData}),0!==this.state.data.length&&0!==this.state.data[0].count?r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{timeData:this.state.timeData}),r.a.createElement(B,{typeData:this.state.typeData}),r.a.createElement(M,{data:this.state.data}),r.a.createElement(W,{data:this.state.data})):r.a.createElement(r.a.Fragment,null))}}]),a}(r.a.Component),A=a(198),X=a.n(A);a(472),a(473);var R=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={type:"\u043f\u043e\u044d\u0437\u0438\u044f",year:1917,filePath:"",successLoadData:"",flagSaveFile:!0},e.changeYear=function(t){e.setState({year:t.target.value})},e.changeType=function(t){e.setState({type:t.target.value})},e.sendBookInfo=function(t){t.preventDefault(),e.setState({flagSaveFile:!1}),D.post("book/upload_book_to_db",{year:e.state.year,type:e.state.type,filePath:e.state.filePath}).then((function(t){console.log(t),e.setState({successLoadData:t.data,filePath:"",flagSaveFile:!0}),console.log("sendBookInfo",e.state.filePath)}))},e.fileUpload=function(t){var a=t.target.files[0],n=new FormData;n.append("file",a),D.post("book/upload_book_to_server",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),e.setState({filePath:t.data,successLoadData:""})}))},e}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:X.a.add_book},r.a.createElement("h2",null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043d\u0438\u0433 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c"),r.a.createElement("form",{onSubmit:this.sendBookInfo},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"\u0413\u043e\u0434 \u0418\u0437\u0434\u0430\u043d\u0438\u044f",value:this.state.year,onChange:this.changeYear})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"\u0412\u0438\u0434 \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u044b",value:this.state.type,onChange:this.changeType})),r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.fileUpload})),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}))),r.a.createElement("div",null,this.state.flagSaveFile?r.a.createElement("h2",null):r.a.createElement("h2",null,"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440...")),r.a.createElement("div",null,r.a.createElement("h1",null,this.state.successLoadData)),r.a.createElement("div",null,r.a.createElement("h1",null,this.state.filePath)))}}]),a}(r.a.Component),U=a(201),Y=a.n(U),G=function(e){return r.a.createElement("div",{className:Y.a.main},r.a.createElement("h1",null,"\u041d\u0443\u0436\u043d\u043e \u0447\u0442\u043e \u0442\u043e \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e \u0446\u0435\u043b\u0438 \u044d\u0442\u043e\u0433\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044f"))},H=function(){return r.a.createElement("div",{className:i.a.app},r.a.createElement(E,null),r.a.createElement(p,null),r.a.createElement("div",{className:i.a.app_content},r.a.createElement(s.a,{path:"/search",render:function(){return r.a.createElement(q,null)}}),r.a.createElement(s.a,{path:"/add",render:function(){return r.a.createElement(R,null)}}),r.a.createElement(s.a,{exact:!0,path:"/",render:function(){return r.a.createElement(G,null)}})))};c.a.render(r.a.createElement(u.a,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[235,1,2]]]);
//# sourceMappingURL=main.c1e5fb97.chunk.js.map